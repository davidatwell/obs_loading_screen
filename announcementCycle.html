<html><body style="width:1500px;overflow:hidden;"><h1 style="font-family:'Archer';font-weight:500;text-align:center;color:#000000;font-size:48px;/*text-shadow:0px 0px 4px rgba(38, 53, 80, 0.9);*/"><span id='swap'></span></h1></body><script>

	var preferences = {
		system: 	"pf2e",
		setting: 	"guild magic"
	};
	var tips = [];
	
	//system tips:
	//system agnostic tips
	tips.push({number: 29, text:"Just because an NPC asks you to, doesn't mean you HAVE to."});
	
	//pf2e tips
	tips.push({system:"pf2e", number: 1, text:"The basic actions in combat are Aid, Crawl, Delay, Drop Prone, Escape, Interact, Leap, Ready, Release, Seek, Sense Motive, Stand, Step, Stride, Strike, and Take Cover."});

	//sf tips

	//dnd tips

	//setting tips:
	//guild magic tips
	tips.push({setting: "guild magic", number: 147, heading: "Makarov Dreyar", text: "Master Makarov hates paperwork."});
	tips.push({setting: "guild magic", number: 148, heading: "Mirajane Strauss", text: "Master Makarov's name is on the lease, but everyone knows that Mirajane really runs the Fairy Tail guild."});
	tips.push({setting: "guild magic", number: 149, text: "No one other than Master Makarov has any idea what Mystogan looks like because he insists on using a powerful Sleep spell on the entire guild hall every time he visits."});
	tips.push({setting: "guild magic", number: 150, text:"The name of the slave trader who kidnapped Zaaraaraasnaan and Adamir was 'Bora.' It is believed that we technically own his ship."});
	tips.push({setting: "guild magic", number: 151, heading: "Erza Scarlet", text: "It's a common debate amongst Fairy Tail guild members as to how many mountains Erza could destroy with her bare hands (there is no question that it's at least one)."});
	tips.push({setting: "guild magic", number: 152, heading: "Wakaba &amp; Macao", text: "Wakaba Mine and Macao Conbolt are &quot;semi-retired&quot; and would rather sit around in the guild hall drinking and telling stories of the old days than go on quests."});

	tips = tips.filter(tip => 
		(!tip.system || !preferences.system || tip.system == preferences.system) && 
		(!tip.setting || !preferences.setting || tip.setting == preferences.setting));
	
	var output = document.getElementById("swap");
	var tipLine = randomize(-1);
	output.innerHTML = composeText(tipLine);
	tipLine = randomize(tipLine);
	
	var loop = setInterval(function(){
		fadeTransition(composeText(tipLine));
		tipLine = randomize(tipLine);
		},10000);

	function randomize(oldVal){
		var retVal = oldVal;
		while (retVal == oldVal) {
			retVal = Math.floor(Math.random() * tips.length);
		}
		return retVal;
	}

	function composeText(tipLine){
		var tip = tips[tipLine];
		return (tip.heading ? "<strong>" + tip.heading + "</strong><br>" : "") + (tip.number ? "#" + tip.number + ": " : "") + tip.text;
	}

	function fadeTransition(newText) {
		var nextOpacity = 12;
		var fadeOut = setInterval(function(){
			if (nextOpacity < 0.1) {
				clearInterval(fadeOut);
				output.innerHTML = newText;
				var fadeIn = setInterval(function(){
					if (nextOpacity > 12) {
						clearInterval(fadeIn);
					} else {
						output.style.opacity = nextOpacity/12;
						nextOpacity++;
					}
				});
			} else {
				output.style.opacity = nextOpacity/12;
				nextOpacity--;
			}
			
		},21)
	}

	//quick test to confirm uniform distribution: run the following line in console on this page and check the objects in the distribution array
	//var distribution = [];for(var i=0; i< tips.length;i++){distribution[i] = {result:i,count:0};}for(var j = 0; j < 1000; j++){distribution[Math.floor(Math.random() * tips.length)].count++}
	
	</script></html>
